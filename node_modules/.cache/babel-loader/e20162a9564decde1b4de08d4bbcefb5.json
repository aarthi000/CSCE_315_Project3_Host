{"ast":null,"code":"const client = require('./connection.js');\nconst express = require('express');\nconst app = express();\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\napp.listen(3300, () => {\n  console.log(\"Server is now listening at port 3300\");\n});\napp.get('/inventory', (req, res) => {\n  client.connect();\n  client.query(`Select * from inventory`, (err, result) => {\n    if (!err) {\n      const data = result.rows;\n      var resStr = '';\n      data.forEach(row => resStr += `${row.ingredient} ${row.ingredientremaining}\n                                              ${row.amountused} ${row.minimumamount}` + '<br>');\n      res.send(resStr);\n    }\n  });\n  client.end;\n});\nfunction getMenuitems() {\n  client.connect();\n  client.query(`Select * from menu_items`, (err, result) => {\n    if (!err) {\n      const data = result.rows;\n      console.log(data);\n      return data;\n    }\n  });\n  client.end;\n}\nmodule.exports = getMenuitems;","map":{"version":3,"names":["client","require","express","app","bodyParser","use","json","listen","console","log","get","req","res","connect","query","err","result","data","rows","resStr","forEach","row","ingredient","ingredientremaining","amountused","minimumamount","send","end","getMenuitems","module","exports"],"sources":["C:/Users/aarth/Documents/CollegeFall23/CSCE315/CSCE_315_Project3/src/appdb.js"],"sourcesContent":["const client = require('./connection.js');\r\nconst express = require('express');\r\nconst app = express();\r\n\r\nconst bodyParser = require(\"body-parser\");\r\napp.use(bodyParser.json());\r\n\r\napp.listen(3300, () => {\r\n     console.log(\"Server is now listening at port 3300\");\r\n   });\r\n\r\n\r\napp.get('/inventory', (req,res)=> {\r\n     client.connect();\r\n      client.query(`Select * from inventory`, (err,result) => {\r\n          if(!err) {\r\n              const data = result.rows;\r\n              var  resStr = '';\r\n              data.forEach(row =>  resStr += `${row.ingredient} ${row.ingredientremaining}\r\n                                              ${row.amountused} ${row.minimumamount}` + '<br>');\r\n              res.send(resStr);\r\n          }\r\n      });\r\n      client.end;\r\n});\r\n\r\n\r\nfunction getMenuitems() {\r\n    client.connect();\r\n         client.query(`Select * from menu_items`, (err,result) => {\r\n          if(!err) {\r\n            const data = result.rows;\r\n            console.log(data);\r\n            return data;\r\n          }\r\n      });\r\n      client.end;\r\n    \r\n  }\r\n\r\nmodule.exports  = getMenuitems;"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACzC,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAS,CAAC;AAClC,MAAME,GAAG,GAAGD,OAAO,EAAE;AAErB,MAAME,UAAU,GAAGH,OAAO,CAAC,aAAa,CAAC;AACzCE,GAAG,CAACE,GAAG,CAACD,UAAU,CAACE,IAAI,EAAE,CAAC;AAE1BH,GAAG,CAACI,MAAM,CAAC,IAAI,EAAE,MAAM;EAClBC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;AACrD,CAAC,CAAC;AAGLN,GAAG,CAACO,GAAG,CAAC,YAAY,EAAE,CAACC,GAAG,EAACC,GAAG,KAAI;EAC7BZ,MAAM,CAACa,OAAO,EAAE;EACfb,MAAM,CAACc,KAAK,CAAE,yBAAwB,EAAE,CAACC,GAAG,EAACC,MAAM,KAAK;IACpD,IAAG,CAACD,GAAG,EAAE;MACL,MAAME,IAAI,GAAGD,MAAM,CAACE,IAAI;MACxB,IAAKC,MAAM,GAAG,EAAE;MAChBF,IAAI,CAACG,OAAO,CAACC,GAAG,IAAKF,MAAM,IAAK,GAAEE,GAAG,CAACC,UAAW,IAAGD,GAAG,CAACE,mBAAoB;AAC1F,gDAAgDF,GAAG,CAACG,UAAW,IAAGH,GAAG,CAACI,aAAc,EAAC,GAAG,MAAM,CAAC;MACjFb,GAAG,CAACc,IAAI,CAACP,MAAM,CAAC;IACpB;EACJ,CAAC,CAAC;EACFnB,MAAM,CAAC2B,GAAG;AAChB,CAAC,CAAC;AAGF,SAASC,YAAY,GAAG;EACpB5B,MAAM,CAACa,OAAO,EAAE;EACXb,MAAM,CAACc,KAAK,CAAE,0BAAyB,EAAE,CAACC,GAAG,EAACC,MAAM,KAAK;IACxD,IAAG,CAACD,GAAG,EAAE;MACP,MAAME,IAAI,GAAGD,MAAM,CAACE,IAAI;MACxBV,OAAO,CAACC,GAAG,CAACQ,IAAI,CAAC;MACjB,OAAOA,IAAI;IACb;EACJ,CAAC,CAAC;EACFjB,MAAM,CAAC2B,GAAG;AAEd;AAEFE,MAAM,CAACC,OAAO,GAAIF,YAAY"},"metadata":{},"sourceType":"module"}