{"ast":null,"code":"const client = require('./connection.js');\nconst express = require('express');\nconst cors = require('cors');\nconst bodyParser = require(\"body-parser\");\nconst app = express();\n\n//midleware\napp.use(bodyParser.json());\napp.use(express.json());\napp.use(cors());\napp.listen(3300, () => {\n  console.log(\"Server is now listening at port 3300\");\n});\nclient.connect();\napp.get('/inventory', (req, res) => {\n  client.query(`Select * from inventory`, (err, result) => {\n    if (!err) {\n      const data = result.rows;\n      var resStr = '';\n      data.forEach(row => resStr += `${row.ingredient} ${row.ingredientremaining}\n                                              ${row.amountused} ${row.minimumamount}` + '<br>');\n      res.send(resStr);\n    }\n  });\n  client.end;\n});\n\n// var data1; \n// app.get('/menu_items', function(request, response){\n//     client.query('select * from menu_items', function(error, results){\n//         if ( error ){\n//             response.status(400).send('Error in database operation');\n//         } else {\n//             data1 = results;\n//             response.json(results);\n//         }\n//     });\n// });\n\nvar data1;\nfunction getMenuItems() {\n  client.query('select * from menu_items', function (error, results) {\n    if (error) {\n      response.status(400).send('Error in database operation');\n    } else {\n      return results;\n    }\n  });\n}\nexport default getMenuItems;","map":{"version":3,"names":["client","require","express","cors","bodyParser","app","use","json","listen","console","log","connect","get","req","res","query","err","result","data","rows","resStr","forEach","row","ingredient","ingredientremaining","amountused","minimumamount","send","end","data1","getMenuItems","error","results","response","status"],"sources":["C:/Users/aarth/Documents/CollegeFall23/CSCE315/CSCE_315_Project3/src/appdb.js"],"sourcesContent":["const client = require('./connection.js');\r\nconst express = require('express');\r\nconst cors = require('cors')\r\nconst bodyParser = require(\"body-parser\");\r\n\r\nconst app = express();\r\n\r\n//midleware\r\napp.use(bodyParser.json());\r\napp.use(express.json());\r\napp.use(cors());\r\n\r\n\r\napp.listen(3300, () => {\r\n     console.log(\"Server is now listening at port 3300\");\r\n   });\r\n\r\nclient.connect();\r\n\r\napp.get('/inventory', (req,res)=> {\r\n      client.query(`Select * from inventory`, (err,result) => {\r\n          if(!err) {\r\n              const data = result.rows;\r\n              var  resStr = '';\r\n              data.forEach(row =>  resStr += `${row.ingredient} ${row.ingredientremaining}\r\n                                              ${row.amountused} ${row.minimumamount}` + '<br>');\r\n              res.send(resStr);\r\n          }\r\n      });\r\n      client.end;\r\n});\r\n\r\n\r\n// var data1; \r\n// app.get('/menu_items', function(request, response){\r\n//     client.query('select * from menu_items', function(error, results){\r\n//         if ( error ){\r\n//             response.status(400).send('Error in database operation');\r\n//         } else {\r\n//             data1 = results;\r\n//             response.json(results);\r\n//         }\r\n//     });\r\n// });\r\n\r\nvar data1;\r\nfunction getMenuItems(){\r\n    client.query('select * from menu_items', function(error, results){\r\n        if ( error ){\r\n            response.status(400).send('Error in database operation');\r\n        } else {\r\n            return results\r\n        }\r\n    });\r\n}\r\n\r\nexport default getMenuItems;\r\n\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACzC,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAS,CAAC;AAClC,MAAME,IAAI,GAAGF,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMG,UAAU,GAAGH,OAAO,CAAC,aAAa,CAAC;AAEzC,MAAMI,GAAG,GAAGH,OAAO,EAAE;;AAErB;AACAG,GAAG,CAACC,GAAG,CAACF,UAAU,CAACG,IAAI,EAAE,CAAC;AAC1BF,GAAG,CAACC,GAAG,CAACJ,OAAO,CAACK,IAAI,EAAE,CAAC;AACvBF,GAAG,CAACC,GAAG,CAACH,IAAI,EAAE,CAAC;AAGfE,GAAG,CAACG,MAAM,CAAC,IAAI,EAAE,MAAM;EAClBC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;AACrD,CAAC,CAAC;AAELV,MAAM,CAACW,OAAO,EAAE;AAEhBN,GAAG,CAACO,GAAG,CAAC,YAAY,EAAE,CAACC,GAAG,EAACC,GAAG,KAAI;EAC5Bd,MAAM,CAACe,KAAK,CAAE,yBAAwB,EAAE,CAACC,GAAG,EAACC,MAAM,KAAK;IACpD,IAAG,CAACD,GAAG,EAAE;MACL,MAAME,IAAI,GAAGD,MAAM,CAACE,IAAI;MACxB,IAAKC,MAAM,GAAG,EAAE;MAChBF,IAAI,CAACG,OAAO,CAACC,GAAG,IAAKF,MAAM,IAAK,GAAEE,GAAG,CAACC,UAAW,IAAGD,GAAG,CAACE,mBAAoB;AAC1F,gDAAgDF,GAAG,CAACG,UAAW,IAAGH,GAAG,CAACI,aAAc,EAAC,GAAG,MAAM,CAAC;MACjFZ,GAAG,CAACa,IAAI,CAACP,MAAM,CAAC;IACpB;EACJ,CAAC,CAAC;EACFpB,MAAM,CAAC4B,GAAG;AAChB,CAAC,CAAC;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,KAAK;AACT,SAASC,YAAY,GAAE;EACnB9B,MAAM,CAACe,KAAK,CAAC,0BAA0B,EAAE,UAASgB,KAAK,EAAEC,OAAO,EAAC;IAC7D,IAAKD,KAAK,EAAE;MACRE,QAAQ,CAACC,MAAM,CAAC,GAAG,CAAC,CAACP,IAAI,CAAC,6BAA6B,CAAC;IAC5D,CAAC,MAAM;MACH,OAAOK,OAAO;IAClB;EACJ,CAAC,CAAC;AACN;AAEA,eAAeF,YAAY"},"metadata":{},"sourceType":"module"}