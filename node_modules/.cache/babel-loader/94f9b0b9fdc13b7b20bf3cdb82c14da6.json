{"ast":null,"code":"const client = require('./connection.js');\n// const express = require('express');\nconst app = express();\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\napp.listen(3300, () => {\n  console.log(\"Server is now listening at port 3300\");\n});\nclient.connect();\napp.get('/restock', (req, res) => {\n  client.query(`Select * from inventory`, (err, result) => {\n    if (!err) {\n      const data = result.rows;\n      var resStr = '';\n      data.forEach(row => {\n        if (row.ingredientremaining < row.minimumamount) {\n          resStr += `${row.ingredient} ${row.ingredientremaining}\n                                              ${row.minimumamount}` + '<br>';\n        }\n      });\n      res.send(resStr);\n    }\n  });\n  client.end;\n});\napp.get('/inventory', (req, res) => {\n  client.query(`Select * from inventory`, (err, result) => {\n    if (!err) {\n      const data = result.rows;\n      var resStr = '';\n      data.forEach(row => resStr += `${row.ingredient} ${row.ingredientremaining}\n                                              ${row.amountused} ${row.minimumamount}` + '<br>');\n      res.send(resStr);\n    }\n  });\n  client.end;\n});","map":{"version":3,"names":["client","require","app","express","bodyParser","use","json","listen","console","log","connect","get","req","res","query","err","result","data","rows","resStr","forEach","row","ingredientremaining","minimumamount","ingredient","send","end","amountused"],"sources":["C:/Users/mason/Desktop/CSCE315/CSCE_315_Project3/src/appdb.js"],"sourcesContent":["const client = require('./connection.js');\r\n// const express = require('express');\r\nconst app = express();\r\n\r\nconst bodyParser = require(\"body-parser\");\r\napp.use(bodyParser.json());\r\n\r\napp.listen(3300, () => {\r\n     console.log(\"Server is now listening at port 3300\");\r\n   });\r\n\r\nclient.connect();\r\n\r\napp.get('/restock', (req,res)=> {\r\n      client.query(`Select * from inventory`, (err,result) => {\r\n          if(!err) {\r\n              const data = result.rows;\r\n              var  resStr = '';\r\n              data.forEach(row =>  { if (row.ingredientremaining < row.minimumamount) {\r\n                                      resStr += `${row.ingredient} ${row.ingredientremaining}\r\n                                              ${row.minimumamount}` + '<br>';\r\n                                   }\r\n                                });\r\n              res.send(resStr);\r\n          }\r\n      });\r\n      client.end;\r\n});\r\n\r\napp.get('/inventory', (req,res)=> {\r\n      client.query(`Select * from inventory`, (err,result) => {\r\n          if(!err) {\r\n              const data = result.rows;\r\n              var  resStr = '';\r\n              data.forEach(row =>  resStr += `${row.ingredient} ${row.ingredientremaining}\r\n                                              ${row.amountused} ${row.minimumamount}` + '<br>');\r\n              res.send(resStr);\r\n          }\r\n      });\r\n      client.end;\r\n});\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACzC;AACA,MAAMC,GAAG,GAAGC,OAAO,EAAE;AAErB,MAAMC,UAAU,GAAGH,OAAO,CAAC,aAAa,CAAC;AACzCC,GAAG,CAACG,GAAG,CAACD,UAAU,CAACE,IAAI,EAAE,CAAC;AAE1BJ,GAAG,CAACK,MAAM,CAAC,IAAI,EAAE,MAAM;EAClBC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;AACrD,CAAC,CAAC;AAELT,MAAM,CAACU,OAAO,EAAE;AAEhBR,GAAG,CAACS,GAAG,CAAC,UAAU,EAAE,CAACC,GAAG,EAACC,GAAG,KAAI;EAC1Bb,MAAM,CAACc,KAAK,CAAE,yBAAwB,EAAE,CAACC,GAAG,EAACC,MAAM,KAAK;IACpD,IAAG,CAACD,GAAG,EAAE;MACL,MAAME,IAAI,GAAGD,MAAM,CAACE,IAAI;MACxB,IAAKC,MAAM,GAAG,EAAE;MAChBF,IAAI,CAACG,OAAO,CAACC,GAAG,IAAK;QAAE,IAAIA,GAAG,CAACC,mBAAmB,GAAGD,GAAG,CAACE,aAAa,EAAE;UAChDJ,MAAM,IAAK,GAAEE,GAAG,CAACG,UAAW,IAAGH,GAAG,CAACC,mBAAoB;AAC7F,gDAAgDD,GAAG,CAACE,aAAc,EAAC,GAAG,MAAM;QACzC;MACH,CAAC,CAAC;MACpBV,GAAG,CAACY,IAAI,CAACN,MAAM,CAAC;IACpB;EACJ,CAAC,CAAC;EACFnB,MAAM,CAAC0B,GAAG;AAChB,CAAC,CAAC;AAEFxB,GAAG,CAACS,GAAG,CAAC,YAAY,EAAE,CAACC,GAAG,EAACC,GAAG,KAAI;EAC5Bb,MAAM,CAACc,KAAK,CAAE,yBAAwB,EAAE,CAACC,GAAG,EAACC,MAAM,KAAK;IACpD,IAAG,CAACD,GAAG,EAAE;MACL,MAAME,IAAI,GAAGD,MAAM,CAACE,IAAI;MACxB,IAAKC,MAAM,GAAG,EAAE;MAChBF,IAAI,CAACG,OAAO,CAACC,GAAG,IAAKF,MAAM,IAAK,GAAEE,GAAG,CAACG,UAAW,IAAGH,GAAG,CAACC,mBAAoB;AAC1F,gDAAgDD,GAAG,CAACM,UAAW,IAAGN,GAAG,CAACE,aAAc,EAAC,GAAG,MAAM,CAAC;MACjFV,GAAG,CAACY,IAAI,CAACN,MAAM,CAAC;IACpB;EACJ,CAAC,CAAC;EACFnB,MAAM,CAAC0B,GAAG;AAChB,CAAC,CAAC"},"metadata":{},"sourceType":"module"}