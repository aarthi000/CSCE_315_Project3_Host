{"ast":null,"code":"const client = require('./connection.js');\nconst express = require('express');\nconst app = express();\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\napp.listen(3300, () => {\n  console.log(\"Server is now listening at port 3300\");\n});\nclient.connect();\napp.get('/restock', (req, res) => {\n  client.query(`Select * from inventory`, (err, result) => {\n    if (!err) {\n      const data = result.rows;\n      var resStr = '';\n      data.forEach(row => {\n        if (row.ingredientremaining < row.minimumamount) {\n          resStr += `${row.ingredient} ${row.ingredientremaining}\n                                              ${row.minimumamount}` + '<br>';\n        }\n      });\n      res.send(resStr);\n    }\n  });\n  client.end;\n});\napp.get('/inventory', (req, res) => {\n  client.query(`Select * from inventory`, (err, result) => {\n    if (!err) {\n      const data = result.rows;\n      var resStr = '';\n      data.forEach(row => resStr += `${row.ingredient} ${row.ingredientremaining}\n                                              ${row.amountused} ${row.minimumamount}` + '<br>');\n      res.send(resStr);\n    }\n  });\n  client.end;\n});","map":{"version":3,"names":["client","require","express","app","bodyParser","use","json","listen","console","log","connect","get","req","res","query","err","result","data","rows","resStr","forEach","row","ingredientremaining","minimumamount","ingredient","send","end","amountused"],"sources":["/Users/harshithadhulipala/Downloads/CSCE_315_Project3/src/appdb.js"],"sourcesContent":["const client = require('./connection.js');\nconst express = require('express');\nconst app = express();\n\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\n\napp.listen(3300, () => {\n     console.log(\"Server is now listening at port 3300\");\n   });\n\nclient.connect();\n\napp.get('/restock', (req,res)=> {\n      client.query(`Select * from inventory`, (err,result) => {\n          if(!err) {\n              const data = result.rows;\n              var  resStr = '';\n              data.forEach(row =>  { if (row.ingredientremaining < row.minimumamount) {\n                                      resStr += `${row.ingredient} ${row.ingredientremaining}\n                                              ${row.minimumamount}` + '<br>';\n                                   }\n                                });\n              res.send(resStr);\n          }\n      });\n      client.end;\n});\n\napp.get('/inventory', (req,res)=> {\n      client.query(`Select * from inventory`, (err,result) => {\n          if(!err) {\n              const data = result.rows;\n              var  resStr = '';\n              data.forEach(row =>  resStr += `${row.ingredient} ${row.ingredientremaining}\n                                              ${row.amountused} ${row.minimumamount}` + '<br>');\n              res.send(resStr);\n          }\n      });\n      client.end;\n});\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACzC,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAS,CAAC;AAClC,MAAME,GAAG,GAAGD,OAAO,EAAE;AAErB,MAAME,UAAU,GAAGH,OAAO,CAAC,aAAa,CAAC;AACzCE,GAAG,CAACE,GAAG,CAACD,UAAU,CAACE,IAAI,EAAE,CAAC;AAE1BH,GAAG,CAACI,MAAM,CAAC,IAAI,EAAE,MAAM;EAClBC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;AACrD,CAAC,CAAC;AAELT,MAAM,CAACU,OAAO,EAAE;AAEhBP,GAAG,CAACQ,GAAG,CAAC,UAAU,EAAE,CAACC,GAAG,EAACC,GAAG,KAAI;EAC1Bb,MAAM,CAACc,KAAK,CAAE,yBAAwB,EAAE,CAACC,GAAG,EAACC,MAAM,KAAK;IACpD,IAAG,CAACD,GAAG,EAAE;MACL,MAAME,IAAI,GAAGD,MAAM,CAACE,IAAI;MACxB,IAAKC,MAAM,GAAG,EAAE;MAChBF,IAAI,CAACG,OAAO,CAACC,GAAG,IAAK;QAAE,IAAIA,GAAG,CAACC,mBAAmB,GAAGD,GAAG,CAACE,aAAa,EAAE;UAChDJ,MAAM,IAAK,GAAEE,GAAG,CAACG,UAAW,IAAGH,GAAG,CAACC,mBAAoB;AAC7F,gDAAgDD,GAAG,CAACE,aAAc,EAAC,GAAG,MAAM;QACzC;MACH,CAAC,CAAC;MACpBV,GAAG,CAACY,IAAI,CAACN,MAAM,CAAC;IACpB;EACJ,CAAC,CAAC;EACFnB,MAAM,CAAC0B,GAAG;AAChB,CAAC,CAAC;AAEFvB,GAAG,CAACQ,GAAG,CAAC,YAAY,EAAE,CAACC,GAAG,EAACC,GAAG,KAAI;EAC5Bb,MAAM,CAACc,KAAK,CAAE,yBAAwB,EAAE,CAACC,GAAG,EAACC,MAAM,KAAK;IACpD,IAAG,CAACD,GAAG,EAAE;MACL,MAAME,IAAI,GAAGD,MAAM,CAACE,IAAI;MACxB,IAAKC,MAAM,GAAG,EAAE;MAChBF,IAAI,CAACG,OAAO,CAACC,GAAG,IAAKF,MAAM,IAAK,GAAEE,GAAG,CAACG,UAAW,IAAGH,GAAG,CAACC,mBAAoB;AAC1F,gDAAgDD,GAAG,CAACM,UAAW,IAAGN,GAAG,CAACE,aAAc,EAAC,GAAG,MAAM,CAAC;MACjFV,GAAG,CAACY,IAAI,CAACN,MAAM,CAAC;IACpB;EACJ,CAAC,CAAC;EACFnB,MAAM,CAAC0B,GAAG;AAChB,CAAC,CAAC"},"metadata":{},"sourceType":"module"}